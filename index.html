<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>पंचायती राज विभाग, शेखपुरा - AI अटेंडेंस सिस्टम</title>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Leaflet CSS for Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        /* ========== ENHANCED CSS VARIABLES ========== */
        :root {
            --primary-color: #1a237e;
            --secondary-color: #0d47a1;
            --accent-color: #2196f3;
            --accent-gradient: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
            --ai-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #00c853;
            --success-gradient: linear-gradient(135deg, #00c853 0%, #64dd17 100%);
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --danger-gradient: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            --info-color: #0097a7;
            --light-bg: #f5f7fa;
            --dark-bg: #121212;
            --text-primary: #263238;
            --text-secondary: #546e7a;
            --text-light: #ffffff;
            --border-color: #cfd8dc;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 5px 15px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12);
            --shadow-xl: 0 20px 50px rgba(0, 0, 0, 0.15);
            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 20px;
            --border-radius-xl: 30px;
            --transition-fast: 0.2s;
            --transition-normal: 0.3s;
            --transition-slow: 0.5s;
        }
        
        /* ========== NEOMORPHIC STYLES ========== */
        .neu-card {
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            border-radius: var(--border-radius-lg);
            box-shadow: 20px 20px 60px #d9d9d9, -20px -20px 60px #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .neu-inset {
            background: linear-gradient(145deg, #f0f0f0, #ffffff);
            border-radius: var(--border-radius-md);
            box-shadow: inset 5px 5px 10px #d9d9d9, inset -5px -5px 10px #ffffff;
        }
        
        /* ========== NEW DASHBOARD LAYOUT ========== */
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            min-height: calc(100vh - 100px);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 280px 1fr 400px;
            gap: 25px;
        }
        
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* ========== ADVANCED SIDEBAR ========== */
        .advanced-sidebar {
            background: linear-gradient(180deg, var(--primary-color) 0%, #283593 100%);
            border-radius: var(--border-radius-lg);
            padding: 25px;
            color: white;
            height: fit-content;
            position: sticky;
            top: 30px;
            overflow: hidden;
        }
        
        .sidebar-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .user-profile {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            border: 5px solid rgba(255, 255, 255, 0.2);
            position: relative;
        }
        
        .profile-badge {
            position: absolute;
            bottom: 0;
            right: 0;
            background: var(--success-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--primary-color);
        }
        
        /* ========== DASHBOARD STATS ========== */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
        }
        
        .stat-item {
            background: white;
            border-radius: var(--border-radius-md);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all var(--transition-normal);
            cursor: pointer;
            border-left: 5px solid var(--accent-color);
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .stat-icon-wrapper {
            width: 60px;
            height: 60px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .stat-content {
            flex: 1;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
            line-height: 1;
            margin-bottom: 5px;
        }
        
        /* ========== CHART CONTAINERS ========== */
        .chart-container {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        /* ========== AI FEATURES ========== */
        .ai-badge {
            background: var(--ai-gradient);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .ai-prediction {
            background: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);
            border-left: 5px solid #764ba2;
            padding: 20px;
            border-radius: var(--border-radius-md);
            margin-top: 20px;
        }
        
        /* ========== VOICE COMMANDS ========== */
        .voice-command {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }
        
        .voice-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: var(--danger-gradient);
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(244, 67, 54, 0.3);
            transition: all var(--transition-normal);
            position: relative;
            animation: pulse 2s infinite;
        }
        
        .voice-btn.listening {
            animation: listening 1.5s infinite;
        }
        
        @keyframes listening {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(244, 67, 54, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
        }
        
        /* ========== NOTIFICATION CENTER ========== */
        .notification-center {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 25px;
            box-shadow: var(--shadow-lg);
            height: fit-content;
            position: sticky;
            top: 30px;
        }
        
        .notification-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            border-radius: var(--border-radius-md);
            margin-bottom: 10px;
            border-left: 5px solid var(--accent-color);
            background: rgba(33, 150, 243, 0.05);
            transition: all var(--transition-normal);
        }
        
        .notification-item:hover {
            transform: translateX(5px);
            background: rgba(33, 150, 243, 0.1);
        }
        
        /* ========== REAL-TIME UPDATES ========== */
        .live-update {
            position: fixed;
            top: 100px;
            right: 30px;
            background: white;
            padding: 15px;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 999;
            border-left: 5px solid var(--success-color);
            animation: slideInRight 0.5s ease-out;
            max-width: 300px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* ========== ADVANCED FILTERS ========== */
        .advanced-filters {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 25px;
            margin-bottom: 25px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .filter-group-advanced {
            position: relative;
        }
        
        /* ========== AI FACE RECOGNITION ========== */
        .face-recognition {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: var(--border-radius-md);
            overflow: hidden;
        }
        
        .face-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            background: linear-gradient(45deg, transparent 50%, rgba(33, 150, 243, 0.1) 100%);
        }
        
        .face-landmarks {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
        }
        
        /* ========== SCHEDULE TIMELINE ========== */
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--accent-color);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-sm);
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 20px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-color);
            border: 3px solid white;
        }
        
        /* ========== OFFLINE SUPPORT ========== */
        .offline-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--warning-color);
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 10000;
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        /* ========== DARK MODE ========== */
        .dark-mode {
            --light-bg: #121212;
            --text-primary: #ffffff;
            --text-secondary: #b0bec5;
            background: #121212;
            color: white;
        }
        
        .dark-mode .card,
        .dark-mode .sidebar,
        .dark-mode .notification-center {
            background: #1e1e1e;
            color: white;
        }
        
        .dark-mode .stat-item,
        .dark-mode .chart-container {
            background: #2d2d2d;
            color: white;
        }
        
        /* ========== ENHANCED ANIMATIONS ========== */
        .floating-animation {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .slide-up-animation {
            animation: slideUp 0.5s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* ========== PROGRESS BARS ========== */
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(33, 150, 243, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 5px;
            transition: width 1s ease-in-out;
        }
        
        /* ========== ENHANCED BUTTONS ========== */
        .btn-3d {
            position: relative;
            transform-style: preserve-3d;
            transition: transform var(--transition-normal);
        }
        
        .btn-3d:hover {
            transform: translateY(-5px);
        }
        
        .btn-3d:active {
            transform: translateY(-2px);
        }
        
        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1400px) {
            .app-container {
                max-width: 100%;
                padding: 15px;
            }
        }
        
        @media (max-width: 992px) {
            .dashboard-grid {
                gap: 15px;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
            
            .advanced-filters {
                grid-template-columns: 1fr;
            }
            
            .voice-command {
                bottom: 20px;
                right: 20px;
            }
            
            .voice-btn {
                width: 60px;
                height: 60px;
                font-size: 1.2rem;
            }
        }
        
        /* ========== PRINT STYLES ========== */
        @media print {
            .no-print, .voice-command {
                display: none !important;
            }
            
            .app-container {
                padding: 0;
                margin: 0;
            }
            
            .card {
                box-shadow: none !important;
                border: 1px solid #000;
            }
        }
    </style>
    
    <!-- Include existing styles from previous version -->
    <style>
        /* Previous CSS from original system (truncated for brevity) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        
        body {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 25%, #90caf9 50%, #64b5f6 75%, #42a5f5 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 16px;
        }
        
        /* Rest of the existing CSS remains */
        /* ... (previous CSS continues) ... */
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">
            <div class="ai-badge" style="margin-bottom: 20px;">
                <i class="fas fa-brain"></i> AI सिस्टम शुरू हो रहा है...
            </div>
            <div id="loadingProgress" style="width: 100%; max-width: 300px; margin: 0 auto;">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%" id="progressFill"></div>
                </div>
                <div style="margin-top: 10px; font-size: 0.9rem;" id="loadingStep">
                    सिस्टम इनिशियलाइज़ कर रहा है...
                </div>
            </div>
        </div>
    </div>
    
    <!-- Offline Banner -->
    <div class="offline-banner" id="offlineBanner" style="display: none;">
        <i class="fas fa-wifi-slash"></i> ऑफलाइन मोड - डेटा स्थानीय रूप से सेव हो रहा है
    </div>
    
    <!-- Live Updates -->
    <div class="live-update" id="liveUpdate" style="display: none;">
        <div class="live-update-content">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                <i class="fas fa-bell" style="color: var(--success-color);"></i>
                <strong>लाइव अपडेट</strong>
            </div>
            <div id="liveUpdateText"></div>
            <small id="liveUpdateTime"></small>
        </div>
    </div>
    
    <!-- Main App Container -->
    <div class="app-container">
        <!-- Enhanced Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="app-logo floating-animation">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="app-title">
                        <h1>पंचायती राज विभाग, शेखपुरा</h1>
                        <p class="app-subtitle">
                            <span class="ai-badge">
                                <i class="fas fa-brain"></i> AI-पावर्ड स्मार्ट अटेंडेंस सिस्टम
                            </span>
                        </p>
                    </div>
                </div>
                
                <div class="header-actions">
                    <button class="action-btn" id="darkModeBtn" title="डार्क मोड">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="action-btn" id="syncBtn" title="सिंक करें">
                        <i class="fas fa-sync-alt"></i>
                        <span class="badge" id="syncBadge" style="display: none;">!</span>
                    </button>
                    <button class="action-btn" id="aiAssistantBtn" title="AI असिस्टेंट">
                        <i class="fas fa-robot"></i>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Advanced Dashboard -->
        <div class="dashboard-grid">
            <!-- Left Sidebar -->
            <div class="advanced-sidebar">
                <div class="sidebar-header">
                    <div class="user-profile">
                        <div class="profile-avatar">
                            <i class="fas fa-user-tie"></i>
                            <div class="profile-badge">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <div>
                            <h3 id="currentUser">अधिकारी</h3>
                            <p style="opacity: 0.8; font-size: 0.9rem;">पंचायती राज विभाग</p>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-tachometer-alt"></i>
                        डैशबोर्ड
                    </h3>
                    <div class="sidebar-nav">
                        <button class="sidebar-nav-item active" data-section="dashboard">
                            <i class="fas fa-home"></i> डैशबोर्ड
                        </button>
                        <button class="sidebar-nav-item" data-section="attendance">
                            <i class="fas fa-camera"></i> अटेंडेंस
                        </button>
                        <button class="sidebar-nav-item" data-section="reports">
                            <i class="fas fa-chart-line"></i> रिपोर्ट्स
                        </button>
                        <button class="sidebar-nav-item" data-section="analytics">
                            <i class="fas fa-chart-pie"></i> एनालिटिक्स
                        </button>
                        <button class="sidebar-nav-item" data-section="employees">
                            <i class="fas fa-users"></i> कर्मचारी
                        </button>
                        <button class="sidebar-nav-item" data-section="settings">
                            <i class="fas fa-cogs"></i> सेटिंग्स
                        </button>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-calendar-check"></i>
                        आज का शेड्यूल
                    </h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div style="font-weight: 600; color: white;">सुबह की बैठक</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">10:00 AM - 11:00 AM</div>
                        </div>
                        <div class="timeline-item">
                            <div style="font-weight: 600; color: white;">फील्ड विजिट</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">11:30 AM - 2:00 PM</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="main-content">
                <!-- Dashboard Stats -->
                <div class="dashboard-stats" id="dashboardSection">
                    <div class="stat-item slide-up-animation" style="animation-delay: 0.1s;">
                        <div class="stat-icon-wrapper" style="background: rgba(33, 150, 243, 0.1); color: var(--accent-color);">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="todayAttendance">0</div>
                            <div class="stat-label">आज की अटेंडेंस</div>
                        </div>
                    </div>
                    
                    <div class="stat-item slide-up-animation" style="animation-delay: 0.2s;">
                        <div class="stat-icon-wrapper" style="background: rgba(0, 200, 83, 0.1); color: var(--success-color);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="avgAccuracy">0%</div>
                            <div class="stat-label">औसत सटीकता</div>
                        </div>
                    </div>
                    
                    <div class="stat-item slide-up-animation" style="animation-delay: 0.3s;">
                        <div class="stat-icon-wrapper" style="background: rgba(156, 39, 176, 0.1); color: #9c27b0;">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="aiVerified">0</div>
                            <div class="stat-label">AI वेरिफाइड</div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Section -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-bar"></i> अटेंडेंस ट्रेंड</h3>
                        <select class="form-control" style="width: auto; padding: 8px 15px; font-size: 0.9rem;">
                            <option>इस सप्ताह</option>
                            <option>इस महीने</option>
                            <option>इस साल</option>
                        </select>
                    </div>
                    <canvas id="attendanceChart" height="100"></canvas>
                </div>
                
                <!-- Department Performance -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-building"></i> विभाग प्रदर्शन</h3>
                        <span class="ai-badge">
                            <i class="fas fa-brain"></i> AI एनालिसिस
                        </span>
                    </div>
                    <canvas id="departmentChart" height="100"></canvas>
                    <div class="ai-prediction">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <i class="fas fa-lightbulb" style="color: #764ba2;"></i>
                            <strong>AI सुझाव:</strong>
                        </div>
                        <p id="aiSuggestion" style="font-size: 0.9rem; margin: 0;">
                            डेटा विश्लेषण हो रहा है...
                        </p>
                    </div>
                </div>
                
                <!-- Attendance Section (Hidden by default) -->
                <div class="content-area" id="attendanceSection" style="display: none;">
                    <!-- Original attendance content goes here -->
                    <!-- Tabs container from original system -->
                    <div class="tabs-container">
                        <!-- Original tabs content -->
                    </div>
                </div>
                
                <!-- Other sections (reports, analytics, employees, settings) would be similar -->
            </div>
            
            <!-- Right Notification Panel -->
            <div class="notification-center">
                <div class="card-header" style="margin-bottom: 20px;">
                    <h3 class="card-title">
                        <i class="fas fa-bell"></i>
                        नोटिफिकेशन
                    </h3>
                    <button class="btn btn-sm btn-outline" id="markAllRead">
                        सभी पढ़ें
                    </button>
                </div>
                
                <div class="notifications-list" id="notificationsList">
                    <div class="notification-item">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--accent-gradient); 
                             display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">नई अटेंडेंस दर्ज हुई</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">राजेश कुमार ने अटेंडेंस दर्ज की</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">2 मिनट पहले</div>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--success-gradient); 
                             display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">GPS स्थान अपडेट</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">आपका स्थान सटीक है</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary);">5 मिनट पहले</div>
                        </div>
                    </div>
                </div>
                
                <!-- Upcoming Holidays -->
                <div style="margin-top: 30px;">
                    <h3 class="sidebar-title" style="margin-bottom: 15px;">
                        <i class="fas fa-calendar-day"></i>
                        आगामी छुट्टियाँ
                    </h3>
                    <div class="holidays-list">
                        <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid rgba(0,0,0,0.1);">
                            <span>गणतंत्र दिवस</span>
                            <span style="font-weight: 600;">26 जनवरी</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid rgba(0,0,0,0.1);">
                            <span>होली</span>
                            <span style="font-weight: 600;">8 मार्च</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Voice Command Interface -->
        <div class="voice-command">
            <button class="voice-btn" id="voiceCommandBtn" title="वॉयस कमांड">
                <i class="fas fa-microphone"></i>
            </button>
        </div>
        
        <!-- AI Assistant Modal -->
        <div class="modal" id="aiAssistantModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
             background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: var(--border-radius-lg); width: 90%; max-width: 500px; padding: 30px;">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <div style="width: 60px; height: 60px; border-radius: 50%; background: var(--ai-gradient); 
                         display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0;">AI असिस्टेंट</h3>
                        <p style="margin: 5px 0 0; color: var(--text-secondary); font-size: 0.9rem;">
                            पूछें "अटेंडेंस रिपोर्ट दिखाओ" या "नया कर्मचारी जोड़ो"
                        </p>
                    </div>
                </div>
                
                <div style="background: #f5f7fa; border-radius: var(--border-radius-md); padding: 20px; margin-bottom: 20px;">
                    <div id="aiResponse" style="min-height: 100px;">
                        <p style="text-align: center; color: var(--text-secondary); padding: 20px;">
                            <i class="fas fa-microphone"></i><br>
                            बोलना शुरू करने के लिए माइक्रोफोन बटन दबाएं
                        </p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-accent btn-block" id="startListeningBtn">
                        <i class="fas fa-microphone"></i> बोलें
                    </button>
                    <button class="btn btn-outline btn-block" id="closeAssistantBtn">
                        बंद करें
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Enhanced JavaScript -->
    <script>
        // ============================================
        // उन्नत AI-पावर्ड अटेंडेंस सिस्टम
        // ============================================
        
        'use strict';
        
        // Advanced Configuration
        const ADVANCED_CONFIG = {
            APP_NAME: 'पंचायती राज विभाग AI सिस्टम',
            VERSION: '2.0.0',
            AI_ENABLED: true,
            OFFLINE_STORAGE: true,
            VOICE_COMMANDS: true,
            REAL_TIME_UPDATES: true,
            MAX_OFFLINE_RECORDS: 100,
            CLOUD_SYNC_INTERVAL: 300000, // 5 minutes
            AI_ANALYSIS_INTERVAL: 60000   // 1 minute
        };
        
        // Advanced Application State
        const ADVANCED_STATE = {
            isDarkMode: false,
            isOnline: navigator.onLine,
            isListening: false,
            aiAssistantActive: false,
            pendingSync: [],
            notifications: [],
            aiInsights: {},
            voiceCommands: {
                'अटेंडेंस दिखाओ': () => switchSection('attendance'),
                'रिपोर्ट दिखाओ': () => switchSection('reports'),
                'डैशबोर्ड दिखाओ': () => switchSection('dashboard'),
                'नया कर्मचारी जोड़ो': () => addNewEmployee(),
                'आज का सारांश': () => showTodaySummary(),
                'सभी डाटा सिंक करो': () => syncAllData(),
                'नोटिफिकेशन साफ करो': () => clearNotifications()
            }
        };
        
        // Initialize Advanced System
        class AdvancedAttendanceSystem {
            constructor() {
                this.init();
            }
            
            async init() {
                try {
                    // Enhanced loading with progress
                    this.showLoadingProgress(10, 'AI सिस्टम इनिशियलाइज़ कर रहा है...');
                    
                    // Initialize core modules
                    await this.initCoreModules();
                    
                    this.showLoadingProgress(30, 'डेटा लोड हो रहा है...');
                    await this.loadData();
                    
                    this.showLoadingProgress(60, 'AI मॉडल तैयार हो रहा है...');
                    await this.initAIModels();
                    
                    this.showLoadingProgress(80, 'यूआई सेटअप हो रहा है...');
                    await this.initUI();
                    
                    this.showLoadingProgress(95, 'बैकग्राउंड सेवाएं शुरू हो रही हैं...');
                    await this.startBackgroundServices();
                    
                    this.showLoadingProgress(100, 'सिस्टम तैयार!');
                    
                    // Finalize
                    setTimeout(() => {
                        document.getElementById('loadingOverlay').classList.add('hidden');
                        this.showToast('AI-पावर्ड स्मार्ट अटेंडेंस सिस्टम तैयार!', 'success');
                        this.showLiveUpdate('सिस्टम सफलतापूर्वक शुरू हो गया');
                    }, 1000);
                    
                } catch (error) {
                    console.error('Advanced system init error:', error);
                    this.showToast('सिस्टम शुरू करने में विफल, लेकिन ऑफलाइन मोड उपलब्ध है', 'warning');
                }
            }
            
            showLoadingProgress(percent, message) {
                document.getElementById('progressFill').style.width = percent + '%';
                document.getElementById('loadingStep').textContent = message;
            }
            
            async initCoreModules() {
                // Initialize GPS
                if (window.GPSManager) {
                    await GPSManager.init();
                }
                
                // Initialize offline detection
                this.initOfflineDetection();
                
                // Initialize voice recognition
                if (ADVANCED_CONFIG.VOICE_COMMANDS) {
                    this.initVoiceRecognition();
                }
                
                // Initialize real-time updates
                if (ADVANCED_CONFIG.REAL_TIME_UPDATES) {
                    this.initRealTimeUpdates();
                }
            }
            
            async loadData() {
                // Load from localStorage
                const saved = localStorage.getItem('panchayat_advanced_data');
                if (saved) {
                    try {
                        const data = JSON.parse(saved);
                        // Merge with existing state
                        Object.assign(APP_STATE, data.appState || {});
                        Object.assign(ADVANCED_STATE, data.advancedState || {});
                    } catch (e) {
                        console.error('Failed to parse saved data:', e);
                    }
                }
                
                // Update UI with loaded data
                this.updateDashboardStats();
                this.updateCharts();
            }
            
            async initAIModels() {
                if (!ADVANCED_CONFIG.AI_ENABLED) return;
                
                // Simulate AI model loading
                return new Promise(resolve => {
                    setTimeout(() => {
                        console.log('AI models initialized');
                        this.generateAIInsights();
                        resolve();
                    }, 1500);
                });
            }
            
            async initUI() {
                // Initialize event listeners
                this.initEventListeners();
                
                // Initialize charts
                this.initCharts();
                
                // Update UI state
                this.updateUIState();
                
                // Check for updates
                this.checkForUpdates();
            }
            
            async startBackgroundServices() {
                // Start cloud sync interval
                if (ADVANCED_CONFIG.CLOUD_SYNC_INTERVAL > 0) {
                    setInterval(() => this.syncWithCloud(), ADVANCED_CONFIG.CLOUD_SYNC_INTERVAL);
                }
                
                // Start AI analysis interval
                if (ADVANCED_CONFIG.AI_ANALYSIS_INTERVAL > 0) {
                    setInterval(() => this.generateAIInsights(), ADVANCED_CONFIG.AI_ANALYSIS_INTERVAL);
                }
                
                // Start notification service
                setInterval(() => this.checkNotifications(), 30000);
            }
            
            initOfflineDetection() {
                window.addEventListener('online', () => {
                    ADVANCED_STATE.isOnline = true;
                    document.getElementById('offlineBanner').style.display = 'none';
                    this.showToast('ऑनलाइन हो गया, डेटा सिंक हो रहा है...', 'info');
                    this.syncWithCloud();
                });
                
                window.addEventListener('offline', () => {
                    ADVANCED_STATE.isOnline = false;
                    document.getElementById('offlineBanner').style.display = 'block';
                    this.showToast('ऑफलाइन मोड में स्विच किया गया', 'warning');
                });
            }
            
            initVoiceRecognition() {
                if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                    console.warn('Voice recognition not supported');
                    return;
                }
                
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                ADVANCED_STATE.recognition = new SpeechRecognition();
                ADVANCED_STATE.recognition.continuous = false;
                ADVANCED_STATE.recognition.lang = 'hi-IN';
                ADVANCED_STATE.recognition.interimResults = false;
                
                ADVANCED_STATE.recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    this.processVoiceCommand(transcript);
                };
                
                ADVANCED_STATE.recognition.onerror = (event) => {
                    console.error('Voice recognition error:', event.error);
                    this.showToast('वॉयस रिकग्निशन में त्रुटि', 'error');
                };
            }
            
            initRealTimeUpdates() {
                // Simulate real-time updates
                setInterval(() => {
                    if (Math.random() > 0.7) { // 30% chance of update
                        const updates = [
                            'नई अटेंडेंस दर्ज हुई',
                            'GPS स्थान अपडेट हुआ',
                            'AI विश्लेषण पूरा हुआ',
                            'डेटा सिंक पूरा हुआ'
                        ];
                        const randomUpdate = updates[Math.floor(Math.random() * updates.length)];
                        this.showLiveUpdate(randomUpdate);
                    }
                }, 30000); // Every 30 seconds
            }
            
            initEventListeners() {
                // Dark mode toggle
                document.getElementById('darkModeBtn').addEventListener('click', () => {
                    this.toggleDarkMode();
                });
                
                // AI assistant
                document.getElementById('aiAssistantBtn').addEventListener('click', () => {
                    this.toggleAIAssistant();
                });
                
                // Voice command button
                document.getElementById('voiceCommandBtn').addEventListener('click', () => {
                    this.toggleVoiceListening();
                });
                
                // Sync button
                document.getElementById('syncBtn').addEventListener('click', () => {
                    this.syncWithCloud();
                });
                
                // Section navigation
                document.querySelectorAll('.sidebar-nav-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const section = e.target.dataset.section;
                        this.switchSection(section);
                    });
                });
                
                // Mark all notifications as read
                document.getElementById('markAllRead').addEventListener('click', () => {
                    this.clearNotifications();
                });
            }
            
            initCharts() {
                // Attendance Trend Chart
                const ctx1 = document.getElementById('attendanceChart').getContext('2d');
                ADVANCED_STATE.attendanceChart = new Chart(ctx1, {
                    type: 'line',
                    data: {
                        labels: ['सोम', 'मंगल', 'बुध', 'गुरु', 'शुक्र', 'शनि', 'रवि'],
                        datasets: [{
                            label: 'अटेंडेंस',
                            data: [12, 19, 8, 15, 12, 16, 10],
                            borderColor: 'rgb(33, 150, 243)',
                            backgroundColor: 'rgba(33, 150, 243, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                
                // Department Performance Chart
                const ctx2 = document.getElementById('departmentChart').getContext('2d');
                ADVANCED_STATE.departmentChart = new Chart(ctx2, {
                    type: 'bar',
                    data: {
                        labels: ['पंचायत विकास', 'स्वास्थ्य', 'शिक्षा', 'प्रशासन', 'फील्ड'],
                        datasets: [{
                            label: 'अटेंडेंस %',
                            data: [85, 92, 78, 88, 95],
                            backgroundColor: [
                                'rgba(33, 150, 243, 0.8)',
                                'rgba(0, 200, 83, 0.8)',
                                'rgba(156, 39, 176, 0.8)',
                                'rgba(255, 152, 0, 0.8)',
                                'rgba(244, 67, 54, 0.8)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }
            
            updateDashboardStats() {
                // Update today's attendance
                const today = new Date().toLocaleDateString('hi-IN');
                const todayCount = APP_STATE.attendanceRecords.filter(r => r.date === today).length;
                document.getElementById('todayAttendance').textContent = todayCount;
                
                // Update average accuracy
                const validRecords = APP_STATE.attendanceRecords.filter(r => r.location && r.location.accuracy);
                const avgAccuracy = validRecords.length > 0 ? 
                    Math.round(validRecords.reduce((sum, r) => sum + r.location.accuracy, 0) / validRecords.length) : 0;
                document.getElementById('avgAccuracy').textContent = `${avgAccuracy}%`;
                
                // Update AI verified count
                const aiVerified = APP_STATE.attendanceRecords.filter(r => r.verified).length;
                document.getElementById('aiVerified').textContent = aiVerified;
            }
            
            updateCharts() {
                // Update charts with real data
                if (ADVANCED_STATE.attendanceChart) {
                    // Update chart data here
                }
            }
            
            updateUIState() {
                // Update dark mode
                if (ADVANCED_STATE.isDarkMode) {
                    document.body.classList.add('dark-mode');
                }
                
                // Update sync badge
                if (ADVANCED_STATE.pendingSync.length > 0) {
                    document.getElementById('syncBadge').style.display = 'flex';
                    document.getElementById('syncBadge').textContent = ADVANCED_STATE.pendingSync.length;
                }
            }
            
            toggleDarkMode() {
                ADVANCED_STATE.isDarkMode = !ADVANCED_STATE.isDarkMode;
                document.body.classList.toggle('dark-mode', ADVANCED_STATE.isDarkMode);
                
                const icon = document.querySelector('#darkModeBtn i');
                icon.className = ADVANCED_STATE.isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
                
                this.showToast(
                    ADVANCED_STATE.isDarkMode ? 'डार्क मोड चालू' : 'डार्क मोड बंद',
                    'info'
                );
            }
            
            toggleAIAssistant() {
                ADVANCED_STATE.aiAssistantActive = !ADVANCED_STATE.aiAssistantActive;
                document.getElementById('aiAssistantModal').style.display = 
                    ADVANCED_STATE.aiAssistantActive ? 'flex' : 'none';
                
                if (ADVANCED_STATE.aiAssistantActive) {
                    this.showAIGreeting();
                }
            }
            
            toggleVoiceListening() {
                if (!ADVANCED_STATE.recognition) {
                    this.showToast('वॉयस रिकग्निशन समर्थित नहीं', 'error');
                    return;
                }
                
                if (ADVANCED_STATE.isListening) {
                    ADVANCED_STATE.recognition.stop();
                    document.getElementById('voiceCommandBtn').classList.remove('listening');
                    this.showToast('वॉयस सुनना बंद किया', 'info');
                } else {
                    ADVANCED_STATE.recognition.start();
                    document.getElementById('voiceCommandBtn').classList.add('listening');
                    this.showToast('सुन रहा हूँ... बोलें', 'info');
                }
                
                ADVANCED_STATE.isListening = !ADVANCED_STATE.isListening;
            }
            
            processVoiceCommand(transcript) {
                console.log('Voice command:', transcript);
                
                // Stop listening
                ADVANCED_STATE.isListening = false;
                document.getElementById('voiceCommandBtn').classList.remove('listening');
                
                // Process command
                let commandFound = false;
                
                for (const [command, action] of Object.entries(ADVANCED_STATE.voiceCommands)) {
                    if (transcript.toLowerCase().includes(command.toLowerCase())) {
                        action();
                        commandFound = true;
                        this.showToast(`कमांड मिला: ${command}`, 'success');
                        break;
                    }
                }
                
                if (!commandFound) {
                    this.showToast('कमांड नहीं पहचान सका, कृपया फिर से बोलें', 'warning');
                }
            }
            
            switchSection(section) {
                // Hide all sections
                document.querySelectorAll('[id$="Section"]').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Show selected section
                document.getElementById(section + 'Section').style.display = 'block';
                
                // Update active nav item
                document.querySelectorAll('.sidebar-nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`[data-section="${section}"]`).classList.add('active');
                
                this.showToast(`${section} सेक्शन खुला`, 'info');
            }
            
            async syncWithCloud() {
                if (!ADVANCED_STATE.isOnline) {
                    this.showToast('ऑफलाइन हैं, सिंक नहीं हो सकता', 'warning');
                    return;
                }
                
                this.showToast('क्लाउड सिंक शुरू...', 'info');
                
                try {
                    // Simulate cloud sync
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Save to localStorage as simulation
                    this.saveData();
                    
                    // Clear pending sync
                    ADVANCED_STATE.pendingSync = [];
                    document.getElementById('syncBadge').style.display = 'none';
                    
                    this.showToast('क्लाउड सिंक पूरा हुआ', 'success');
                } catch (error) {
                    console.error('Sync error:', error);
                    this.showToast('सिंक विफल, बाद में पुनः प्रयास करें', 'error');
                }
            }
            
            generateAIInsights() {
                if (!ADVANCED_CONFIG.AI_ENABLED) return;
                
                // Generate AI insights based on data
                const today = new Date().toLocaleDateString('hi-IN');
                const todayRecords = APP_STATE.attendanceRecords.filter(r => r.date === today);
                
                const insights = {
                    totalToday: todayRecords.length,
                    departments: {},
                    suggestions: []
                };
                
                // Analyze by department
                todayRecords.forEach(record => {
                    const dept = record.department;
                    insights.departments[dept] = (insights.departments[dept] || 0) + 1;
                });
                
                // Generate suggestions
                if (todayRecords.length < 10) {
                    insights.suggestions.push('आज की अटेंडेंस कम है, कर्मचारियों को याद दिलाएं');
                }
                
                if (Object.keys(insights.departments).length < 3) {
                    insights.suggestions.push('कुछ विभागों में अटेंडेंस नहीं है');
                }
                
                ADVANCED_STATE.aiInsights = insights;
                
                // Update AI suggestion in UI
                const suggestionEl = document.getElementById('aiSuggestion');
                if (suggestionEl && insights.suggestions.length > 0) {
                    suggestionEl.textContent = insights.suggestions[0];
                }
                
                return insights;
            }
            
            checkNotifications() {
                // Check for new notifications
                const newNotifications = this.getNewNotifications();
                if (newNotifications.length > 0) {
                    this.addNotifications(newNotifications);
                    this.showToast(`${newNotifications.length} नए नोटिफिकेशन`, 'info');
                }
            }
            
            getNewNotifications() {
                // Simulate getting new notifications
                const notifications = [
                    {
                        id: Date.now(),
                        title: 'अटेंडेंस रिमाइंडर',
                        message: '3 कर्मचारियों ने अभी तक अटेंडेंस नहीं दर्ज की',
                        time: 'अभी',
                        icon: 'fa-user-clock'
                    },
                    {
                        id: Date.now() + 1,
                        title: 'GPS अपडेट',
                        message: 'आपका स्थान सटीकता में सुधार हुआ',
                        time: '5 मिनट पहले',
                        icon: 'fa-map-marker-alt'
                    }
                ];
                
                return Math.random() > 0.5 ? [] : notifications;
            }
            
            addNotifications(notifications) {
                notifications.forEach(notification => {
                    ADVANCED_STATE.notifications.unshift(notification);
                    this.addNotificationToUI(notification);
                });
            }
            
            addNotificationToUI(notification) {
                const container = document.getElementById('notificationsList');
                const notificationEl = document.createElement('div');
                notificationEl.className = 'notification-item slide-up-animation';
                notificationEl.innerHTML = `
                    <div style="width: 40px; height: 40px; border-radius: 50%; 
                         background: var(--accent-gradient); display: flex; 
                         align-items: center; justify-content: center; color: white;">
                        <i class="fas ${notification.icon}"></i>
                    </div>
                    <div>
                        <div style="font-weight: 600;">${notification.title}</div>
                        <div style="font-size: 0.85rem; color: var(--text-secondary);">
                            ${notification.message}
                        </div>
                        <div style="font-size: 0.75rem; color: var(--text-secondary);">
                            ${notification.time}
                        </div>
                    </div>
                `;
                
                container.insertBefore(notificationEl, container.firstChild);
            }
            
            clearNotifications() {
                ADVANCED_STATE.notifications = [];
                document.getElementById('notificationsList').innerHTML = '';
                this.showToast('सभी नोटिफिकेशन साफ', 'success');
            }
            
            showAIGreeting() {
                const greetings = [
                    "नमस्ते! मैं आपका AI असिस्टent हूं। आप कैसे मदद कर सकता हूं?",
                    "स्वागत है! मैं आपकी अटेंडेंस मैनेजमेंट में मदद कर सकता हूं।",
                    "हैलो! बोलकर कमांड दें जैसे 'अटेंडेंस दिखाओ' या 'रिपोर्ट बनाओ'।"
                ];
                
                const response = document.getElementById('aiResponse');
                response.innerHTML = `
                    <div style="padding: 10px; background: white; border-radius: 8px; margin-bottom: 10px;">
                        <strong>AI:</strong> ${greetings[Math.floor(Math.random() * greetings.length)]}
                    </div>
                `;
            }
            
            showLiveUpdate(message) {
                if (!ADVANCED_CONFIG.REAL_TIME_UPDATES) return;
                
                const updateEl = document.getElementById('liveUpdate');
                const textEl = document.getElementById('liveUpdateText');
                const timeEl = document.getElementById('liveUpdateTime');
                
                textEl.textContent = message;
                timeEl.textContent = new Date().toLocaleTimeString('hi-IN', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                updateEl.style.display = 'block';
                
                // Auto hide after 5 seconds
                setTimeout(() => {
                    updateEl.style.display = 'none';
                }, 5000);
            }
            
            showToast(message, type) {
                // Use existing Toast system or create new
                if (typeof Toast !== 'undefined') {
                    Toast[type](message);
                } else {
                    console.log(`${type}: ${message}`);
                }
            }
            
            saveData() {
                try {
                    const data = {
                        appState: APP_STATE,
                        advancedState: ADVANCED_STATE,
                        timestamp: new Date().toISOString()
                    };
                    
                    localStorage.setItem('panchayat_advanced_data', JSON.stringify(data));
                    console.log('Data saved successfully');
                } catch (error) {
                    console.error('Save data error:', error);
                }
            }
            
            checkForUpdates() {
                // Simulate checking for updates
                setTimeout(() => {
                    if (Math.random() > 0.7) {
                        this.showLiveUpdate('नया अपडेट उपलब्ध है');
                    }
                }, 10000);
            }
            
            // Utility functions from original system
            addNewEmployee() {
                this.showToast('नया कर्मचारी जोड़ने का फॉर्म खोल रहा हूं...', 'info');
                this.switchSection('employees');
            }
            
            showTodaySummary() {
                const today = new Date().toLocaleDateString('hi-IN');
                const todayCount = APP_STATE.attendanceRecords.filter(r => r.date === today).length;
                
                this.showToast(`आज ${todayCount} अटेंडेंस दर्ज हुई हैं`, 'info');
            }
            
            syncAllData() {
                this.syncWithCloud();
            }
        }
        
        // Start the advanced system
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize both systems
            if (typeof SmartAttendanceApp !== 'undefined') {
                new SmartAttendanceApp();
            }
            
            // Initialize advanced system
            new AdvancedAttendanceSystem();
        });
    </script>
</body>
</html>